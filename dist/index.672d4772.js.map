{"mappings":"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","sources":["script.js"],"sourcesContent":["const mealsEl = document.querySelector(\".lower-block\");\r\nconst favContainer = document.getElementById(\"favourite\");\r\nconst heartBtn = document.querySelector(\".heart-btn\");\r\nconst searchEL = document.getElementById(\"search-term\");\r\nconst searchBtn = document.getElementById(\"search\");\r\nconst closePopup = document.querySelector(\".close-btn\");\r\nconst mealInfoEl = document.querySelector(\".meal-info\");\r\nconst mealPopup = document.querySelector(\".popup-container\");\r\nconst searchElement = document.querySelector(\".search-form\");\r\nconst popupContainer = document.querySelector(\".popup-info\");\r\n\r\nconst getRandomMeal = async function () {\r\n  const response = await fetch(\r\n    \"https://www.themealdb.com/api/json/v1/1/random.php\"\r\n  );\r\n  const data = await response.json();\r\n  const randomData = data.meals[0];\r\n  console.log(randomData);\r\n\r\n  addMeal(randomData, true);\r\n};\r\n\r\ngetRandomMeal();\r\n\r\nfetchFavMeals();\r\n\r\nasync function getMealById(id) {\r\n  const response = await fetch(\r\n    `https://www.themealdb.com/api/json/v1/1/lookup.php?i=${id}`\r\n  );\r\n\r\n  const data = await response.json();\r\n  console.log(data);\r\n  const mealData = data.meals[0];\r\n  console.log(mealData);\r\n\r\n  return mealData;\r\n}\r\n\r\nconst getMealByName = async function (name) {\r\n  const response = await fetch(\r\n    `https://www.themealdb.com/api/json/v1/1/search.php?s=${name}`\r\n  );\r\n  const data = await response.json();\r\n\r\n  const meals = data.meals;\r\n\r\n  return meals;\r\n};\r\n\r\nfunction addMeal(mealData, random = false) {\r\n  const meal = document.createElement(\"div\");\r\n  meal.classList.add(\"meal\");\r\n\r\n  meal.innerHTML = `\r\n  <div class=\"meal\">\r\n    <div class=\"random-recipe\">\r\n  ${random ? '<h3 class=\"random\">Random Recipe</h3>' : \"\"}\r\n          \r\n          <img\r\n            src=\"${mealData.strMealThumb}\"\r\n            alt=\"${mealData.strMeal}\"\r\n          />\r\n        </div>\r\n\r\n        <footer class=\"footer\">\r\n          <h3>${mealData.strMeal}</h3>\r\n          <button class=\"heart-btn\">\r\n            <i class=\"fas fa-heart\"></i>\r\n          </button>\r\n          \r\n        </footer>\r\n        </div>    \r\n  `;\r\n\r\n  // const btn = meal.querySelector('.heart-btn');\r\n\r\n  // meal.addEventListener('click', function () {\r\n  //   showMealInfo(mealData);\r\n  // });\r\n\r\n  mealsEl.appendChild(meal);\r\n  // let btn;\r\n  const btnShowMealInfo = meal.querySelector(\".random-recipe\");\r\n  const btn = meal.querySelector(\".heart-btn\");\r\n  btn.addEventListener(\"click\", function (e) {\r\n    if (!btn) return;\r\n\r\n    if (btn.classList.contains(\"active\")) {\r\n      removeMealLS(mealData.idMeal);\r\n      btn.classList.remove(\"active\");\r\n    } else {\r\n      addMealTolS(mealData.idMeal);\r\n      btn.classList.add(\"active\");\r\n    }\r\n\r\n    fetchFavMeals();\r\n\r\n    btnShowMealInfo.addEventListener(\"click\", function () {\r\n      showMealInfo(mealData);\r\n    });\r\n  });\r\n}\r\n\r\nfunction getMealsFromLS() {\r\n  const mealIds = JSON.parse(localStorage.getItem(\"mealIds\"));\r\n\r\n  return mealIds === null ? [] : mealIds;\r\n}\r\n\r\nfunction addMealTolS(mealId) {\r\n  const mealIds = getMealsFromLS();\r\n  console.log(mealIds);\r\n\r\n  localStorage.setItem(\"mealIds\", JSON.stringify([...mealIds, mealId]));\r\n}\r\n\r\nfunction removeMealLS(mealId) {\r\n  const mealIds = getMealsFromLS();\r\n  console.log(mealIds);\r\n\r\n  localStorage.setItem(\r\n    \"mealIds\",\r\n    JSON.stringify(mealIds.filter((id) => id !== mealId))\r\n  );\r\n}\r\n\r\nfunction addFavMeal(mealData) {\r\n  const favMeals = document.createElement(\"li\");\r\n\r\n  favMeals.innerHTML = `\r\n  \r\n    <img class=\"fav-meal\"\r\n      src=\"${mealData.strMealThumb}\"\r\n      alt=\"${mealData.strMeal}\"\r\n    /><span>${mealData.strMeal}</span>\r\n    <button class=\"clear\"><i class=\"fa-solid fa-rectangle-xmark\"></i></button>\r\n  `;\r\n\r\n  const btn = favMeals.querySelector(\".clear\");\r\n\r\n  btn.addEventListener(\"click\", function () {\r\n    removeMealLS(mealData.idMeal);\r\n\r\n    fetchFavMeals();\r\n  });\r\n\r\n  favMeals.addEventListener(\"click\", function (e) {\r\n    const btn = e.target.closest(\".fav-meal\");\r\n\r\n    if (!btn) return;\r\n    showMealInfo(mealData);\r\n  });\r\n\r\n  favContainer.appendChild(favMeals);\r\n}\r\n\r\nasync function fetchFavMeals() {\r\n  favContainer.innerHTML = \"\";\r\n  const mealIds = getMealsFromLS();\r\n  console.log(mealIds);\r\n  // const meals = [];\r\n\r\n  for (let i = 0; i < mealIds.length; i++) {\r\n    const mealId = mealIds[i];\r\n\r\n    const meal = await getMealById(mealId);\r\n\r\n    addFavMeal(meal);\r\n  }\r\n}\r\n\r\nfunction showMealInfo(mealData) {\r\n  mealInfoEl.innerHTML = \"\";\r\n\r\n  const mealEl = document.createElement(\"div\");\r\n\r\n  const ingredients = [];\r\n\r\n  for (let i = 1; i <= 20; i++) {\r\n    if (mealData[\"strIngredient\" + i]) {\r\n      ingredients.push(\r\n        `${mealData[\"strIngredient\" + i]} - ${mealData[\"strMeasure\" + i]}`\r\n      );\r\n    } else {\r\n      break;\r\n    }\r\n  }\r\n\r\n  mealEl.innerHTML = `\r\n          <h2>${mealData.strMeal}</h2>\r\n          <img\r\n            src=\"${mealData.strMealThumb}\"\r\n            alt=\"\"\r\n          />\r\n          <p>\r\n            ${mealData.strInstructions}\r\n          </p>\r\n          <h3>ingredients:</h3>\r\n          <ul>\r\n              ${ingredients.map((ing) => `<li>${ing}</li>`).join(\"\")}\r\n              \r\n          </ul>\r\n        `;\r\n\r\n  mealInfoEl.appendChild(mealEl);\r\n\r\n  mealPopup.classList.remove(\"hidden\");\r\n}\r\n\r\nsearchElement.addEventListener(\"submit\", async function (e) {\r\n  e.preventDefault();\r\n  // Clean container\r\n\r\n  mealsEl.innerHTML = \"\";\r\n\r\n  const query = searchEL.value;\r\n\r\n  const meals = await getMealByName(query);\r\n\r\n  if (meals) {\r\n    meals.forEach((meal) => {\r\n      addMeal(meal);\r\n      searchEL.value = \"\";\r\n    });\r\n  }\r\n});\r\n\r\npopupContainer.addEventListener(\"click\", function (e) {\r\n  const btn = e.target.closest(\".close-popup\");\r\n\r\n  if (!btn) return;\r\n\r\n  mealPopup.classList.add(\"hidden\");\r\n});\r\n"],"names":[],"version":3,"file":"index.672d4772.js.map","sourceRoot":"/__parcel_source_root/"}